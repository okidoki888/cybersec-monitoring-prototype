# Cybersecurity Monitoring Prototype

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å PostgreSQL, JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, —Ä–æ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–∏—Å—Ç–µ–º–æ–π –∞–ª–µ—Ä—Ç–æ–≤.

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
docker-compose up --build
```

- üîó Backend health: http://localhost:8000/api/health
- üîê API: http://localhost:8000/api/
- üìä Frontend UI: http://localhost:3000

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Backend**: FastAPI + PostgreSQL + SQLAlchemy
- **Frontend**: React + TypeScript + Vite
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)

## Backend API

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- `POST /api/auth/signup` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ –æ—Ç–∫—Ä—ã—Ç–∞)
  ```json
  {
    "username": "analyst",
    "password": "secret",
    "role": "analyst"  // viewer | analyst | admin
  }
  ```
- `POST /api/auth/token` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞ (OAuth2 password flow)
  ```bash
  curl -X POST http://localhost:8000/api/auth/token \
    -H "Content-Type: application/x-www-form-urlencoded" \
    -d "username=analyst&password=secret"
  ```
- `GET /api/auth/me` ‚Äî —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (—Ç—Ä–µ–±—É–µ—Ç JWT)

**–†–æ–ª–∏:**
- `viewer` ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π –∏ –∞–ª–µ—Ä—Ç–æ–≤
- `analyst` ‚Äî –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –∞–ª–µ—Ä—Ç—ã –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∞–≤–∏–ª–∞–º–∏
- `admin` ‚Äî –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø, –≤–∫–ª—é—á–∞—è —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª

### –°–æ–±—ã—Ç–∏—è (Events)

- `GET /api/events/` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π (—Ñ–∏–ª—å—Ç—Ä—ã: `severity`, `category`, `source`, –ø–∞–≥–∏–Ω–∞—Ü–∏—è: `offset`, `limit`)
- `GET /api/events/paged` ‚Äî —Ç–æ –∂–µ, –Ω–æ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:
  ```json
  {
    "items": [ /* SecurityEvent[] */ ],
    "total": 123,
    "offset": 0,
    "limit": 50
  }
  ```
- `GET /api/events/summary` ‚Äî –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–≤–æ–¥–∫–∞:
  - `total` ‚Äî –≤—Å–µ–≥–æ —Å–æ–±—ã—Ç–∏–π
  - `by_severity` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ —É—Ä–æ–≤–Ω—è–º –≤–∞–∂–Ω–æ—Å—Ç–∏
  - `by_category` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
  - `last_event_at` ‚Äî –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–±—ã—Ç–∏—è
- `POST /api/events/evaluate-all` ‚Äî —Ä—É—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –ø—Ä–æ—Ç–∏–≤ –ø—Ä–∞–≤–∏–ª –∞–ª–µ—Ä—Ç–æ–≤

### –ê–ª–µ—Ä—Ç—ã (Alerts)

- `GET /api/alerts/` ‚Äî —Å–ø–∏—Å–æ–∫ –∞–ª–µ—Ä—Ç–æ–≤ (—Ñ–∏–ª—å—Ç—Ä—ã: `status`, `rule_id`, `assigned_to`, –ø–∞–≥–∏–Ω–∞—Ü–∏—è)
- `GET /api/alerts/{alert_id}` ‚Äî –¥–µ—Ç–∞–ª–∏ –∞–ª–µ—Ä—Ç–∞
- `PATCH /api/alerts/{alert_id}` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–ª–µ—Ä—Ç–∞ (status, assigned_to, notes) ‚Äî —Ç—Ä–µ–±—É–µ—Ç `analyst` –∏–ª–∏ `admin`

### –ü—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–æ–≤ (Alert Rules)

- `GET /api/alerts/rules/` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª
- `POST /api/alerts/rules/` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ ‚Äî —Ç—Ä–µ–±—É–µ—Ç `analyst` –∏–ª–∏ `admin`
  ```json
  {
    "name": "High Severity Network Events",
    "description": "Alert on high/critical network events",
    "severity_filter": "high",
    "category_filter": "network",
    "source_filter": null,
    "is_active": true
  }
  ```
- `GET /api/alerts/rules/{rule_id}` ‚Äî –¥–µ—Ç–∞–ª–∏ –ø—Ä–∞–≤–∏–ª–∞
- `PATCH /api/alerts/rules/{rule_id}` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ ‚Äî —Ç—Ä–µ–±—É–µ—Ç `analyst` –∏–ª–∏ `admin`
- `DELETE /api/alerts/rules/{rule_id}` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ ‚Äî —Ç—Ä–µ–±—É–µ—Ç `admin`

### API key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞)

–ï—Å–ª–∏ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `API_KEY` –¥–ª—è backend-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
- –≤—Å–µ endpoints `/api/events*` –∏ `/api/alerts*` —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫: `X-API-Key: <–≤–∞—à –∫–ª—é—á>`
- –µ—Å–ª–∏ `API_KEY` –Ω–µ –∑–∞–¥–∞–Ω, –∑–∞—â–∏—Ç–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞ (—É–¥–æ–±–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç API key. –î–ª—è UI —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT, –¥–ª—è –º–∞—à–∏–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Äî API key.

## Frontend

### –í–∫–ª–∞–¥–∫–∞ Events

- –°–≤–æ–¥–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (total, high/critical, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–±—ã—Ç–∏—è)
- –¢–∞–±–ª–∏—Ü–∞ —Å–æ–±—ã—Ç–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–æ–¥–∫–∏ –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥

### –í–∫–ª–∞–¥–∫–∞ ATT&CK Matrix

- –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Ç–∞–∫—Ç–∏–∫ –∏ —Ç–µ—Ö–Ω–∏–∫ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

### –í–∫–ª–∞–¥–∫–∞ Alerts

- **–ê–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã**: —Ç–∞–±–ª–∏—Ü–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç–∞—Ç—É—Å—É, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **–ü—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–æ–≤**: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ severity, category, source

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–∑–¥–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã: `security_events`, `users`, `alert_rules`, `alerts`
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞—á–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏–∑ `data/initial_events.json`
- –°–æ–±—ã—Ç–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è –ø—Ä–æ—Ç–∏–≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª –∞–ª–µ—Ä—Ç–æ–≤

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Backend

- `DATABASE_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `postgresql://user:password@db:5432/cybersec`)
- `EVENTS_FILE` ‚Äî –ø—É—Ç—å –∫ JSON-—Ñ–∞–π–ª—É —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `/app/data/initial_events.json`)
- `API_KEY` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è –º–∞—à–∏–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `JWT_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `your-secret-key-change-in-production`)

### Frontend

- `window.__API_KEY__` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π API key –¥–ª—è –º–∞—à–∏–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞)

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### Backend

```bash
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### Frontend

```bash
cd frontend
npm install
npm run dev
```
