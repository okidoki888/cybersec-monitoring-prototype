# üê≥ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –¥–ª—è macOS

## ‚ö†Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç—Ä–µ–±—É–µ—Ç sudo

Docker —Ç—Ä–µ–±—É–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞:

---

## üì• –°–ø–æ—Å–æ–± 1: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –®–∞–≥ 1: –°–∫–∞—á–∞–π—Ç–µ Docker Desktop

**–î–ª—è Apple Silicon (M1/M2/M3):**
```
https://desktop.docker.com/mac/main/arm64/Docker.dmg
```

**–î–ª—è Intel Mac:**
```
https://desktop.docker.com/mac/main/amd64/Docker.dmg
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `Docker.dmg`
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `Docker.app` –≤ –ø–∞–ø–∫—É `Applications`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `Docker` –∏–∑ –ø–∞–ø–∫–∏ Applications
4. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–ø—É—Å–∫–∞ Docker (–≤ menu bar –ø–æ—è–≤–∏—Ç—Å—è –∑–Ω–∞—á–æ–∫ –∫–∏—Ç–∞)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
docker --version
docker compose version
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏–∏ Docker.

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
cd /Users/sergejbarysnikov/.claude-worktrees/cybersec-monitoring-prototype/optimistic-stonebraker
docker compose up --build
```

---

## üîß –°–ø–æ—Å–æ–± 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Homebrew (–µ—Å–ª–∏ –Ω–µ—Ç)

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

**–ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è:**
- –í–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ù–∞–∂–∞—Ç—å Enter –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker

```bash
brew install --cask docker
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop

```bash
open /Applications/Docker.app
```

–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–ø—É—Å–∫–∞ (–∑–Ω–∞—á–æ–∫ –∫–∏—Ç–∞ –≤ menu bar).

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

```bash
docker --version
docker compose version
```

---

## üöÄ –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/sergejbarysnikov/.claude-worktrees/cybersec-monitoring-prototype/optimistic-stonebraker

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω
ls -la .env

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose up --build
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:

1. **–°–∫–∞—á–∞—é—Ç—Å—è –æ–±—Ä–∞–∑—ã** (~500 MB):
   - PostgreSQL 15-alpine
   - Python 3.11-slim
   - Node.js 18-alpine

2. **–°–æ–±–µ—Ä—É—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** (~3-5 –º–∏–Ω—É—Ç):
   - Backend (FastAPI)
   - Frontend (React + Vite)
   - Database (PostgreSQL)

3. **–ó–∞–ø—É—Å—Ç—è—Ç—Å—è —Å–µ—Ä–≤–∏—Å—ã**:
   - ‚úÖ db (PostgreSQL)
   - ‚úÖ backend (FastAPI)
   - ‚úÖ frontend (React)

### –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é:

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

- **Frontend:** http://localhost:3000
- **Backend API:** http://localhost:8000
- **API Docs:** http://localhost:8000/docs

### –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

–í—ã —É–≤–∏–¥–∏—Ç–µ –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

```
db_1       | database system is ready to accept connections
backend_1  | INFO:     Application startup complete.
frontend_1 | VITE ready in 2345 ms
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –∏–ª–∏ –≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
docker compose down
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot connect to Docker daemon"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop
open /Applications/Docker.app

# –î–æ–∂–¥–∏—Ç–µ—Å—å, –ø–æ–∫–∞ –∑–Ω–∞—á–æ–∫ –∫–∏—Ç–∞ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å—Å—è
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Port 3000 is already in use"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞–π–¥–∏—Ç–µ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3000
lsof -ti:3000 | xargs kill -9

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ docker-compose.yml
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Port 8000 is already in use"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 8000
lsof -ti:8000 | xargs kill -9
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û–±—Ä–∞–∑—ã –Ω–µ —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
ping google.com

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–∞—á–∞—Ç—å –æ–±—Ä–∞–∑ –≤—Ä—É—á–Ω—É—é
docker pull postgres:15-alpine
```

### –ü—Ä–æ–±–ª–µ–º–∞: "permission denied"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop

# –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ, –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo dscl . -append /Groups/docker GroupMembership $(whoami)
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```bash
docker compose ps
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å 3 —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```
NAME                  STATUS              PORTS
cybersec-db-1         Up (healthy)        5432/tcp
cybersec-backend-1    Up (healthy)        0.0.0.0:8000->8000/tcp
cybersec-frontend-1   Up                  0.0.0.0:3000->3000/tcp
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```bash
# –í—Å–µ –ª–æ–≥–∏
docker compose logs

# –¢–æ–ª—å–∫–æ backend
docker compose logs backend

# –° –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker compose logs -f
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ healthchecks

```bash
# Backend health
curl http://localhost:8000/api/health

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: {"status":"healthy"}
```

---

## üéØ –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

http://localhost:3000

### 2. –í–æ–π–¥–∏—Ç–µ

**–¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
- Username: `admin`
- Password: `Admin123`

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏

- ‚úÖ Dashboard –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –°–æ–±—ã—Ç–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚úÖ –û–ø–æ–≤–µ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–µ
docker compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes (—á–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç)
docker compose down -v

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
docker compose build --no-cache

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose logs -f service_name
```

### –û—á–∏—Å—Ç–∫–∞

```bash
# –£–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker container prune

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune -a

# –û—Å–≤–æ–±–æ–¥–∏—Ç—å –º–µ—Å—Ç–æ (—É–¥–∞–ª–∏—Ç—å –≤—Å—ë –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ)
docker system prune -a --volumes
```

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
# –í–æ–π—Ç–∏ –≤ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker compose exec backend bash

# –í—ã–ø–æ–ª–Ω–∏—Ç—å pytest
docker compose exec backend pytest tests/ -v

# –í–æ–π—Ç–∏ –≤ PostgreSQL
docker compose exec db psql -U cybersec -d cybersec
```

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
docker stats
```

–ü–æ–∫–∞–∂–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
- CPU %
- Memory usage
- Network I/O
- Block I/O

### –û–∂–∏–¥–∞–µ–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | CPU | Memory |
|-----------|-----|--------|
| postgres  | 1-5% | ~50 MB |
| backend   | 5-10% | ~100 MB |
| frontend  | 1-3% | ~50 MB |

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- [ ] Docker Desktop —Å–∫–∞—á–∞–Ω
- [ ] Docker Desktop —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ /Applications
- [ ] Docker Desktop –∑–∞–ø—É—â–µ–Ω (–∑–Ω–∞—á–æ–∫ –∫–∏—Ç–∞ –≤ menu bar)
- [ ] `docker --version` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] `docker compose version` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω/—Å–∫–∞—á–∞–Ω
- [ ] .env —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] `docker compose up --build` –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
- [ ] Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000
- [ ] Backend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000
- [ ] –ú–æ–∂–Ω–æ –≤–æ–π—Ç–∏ –ø–æ–¥ admin/Admin123

---

## üéì –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞:

1. **–ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ**
2. **–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã**
3. **–ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é**

---

**–í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** ~10-15 –º–∏–Ω—É—Ç (–≤–∫–ª—é—á–∞—è —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ)

**–ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ:** ~2-3 GB (Docker + –æ–±—Ä–∞–∑—ã + –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã)

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** [QUICK_START.md](./QUICK_START.md)
